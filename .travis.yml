language: node_js
node_js:
- '6'
os:
- linux
notifications:
  email: false
before_script:
- npm install
- npm install -g codeclimate-test-reporter
script:
- npm test
after_success:
- codeclimate-test-reporter < coverage/lcov.info
before_deploy:
- npm run build
- git add -f webpack-assets.json
env:
  global:
    secure: U5GSXDXJcaDbBT+oOw5RPp0gimdC3354eWAIFfEbwgb4OTqbENW9UEjQif7nghLmAQOJEArF+sv9D75VkOpdn7gshdUxx3IMyt5M0vex4u2RYVn0ySsSB7k1y8bnd4vFMv3Y9yyYHb87d3nwREti3XLqu0PQO/rAGKt8lxHZGvXlus2wpbHEAPlf1InAp1ANDa+eVzQ/ifcL/XW9nyv5qPgDdJ65CLCubn2FZWG9CZXIsCbgsDpPUGVlLxF3jw+Ft2O/rgo2zdLEi/NleEj/spAcWde4TNU1Nn3ycgQy8JuNqW4imZPY3mhy+bIUSB0mDLGx0MKDbijDukbxAV/K2dmtW9RM3RkK1SQcqcA/gLMyr8LpMIyRg1zpcRITtnGmRIb8KulD6SyoYSKgBC5Irhb55pFicRyQP7wVNLwBcy4O+c5EfYz5N8lBUD4FYrskHQlKD/DUWe4b2BYxWt2Qs4f4Y82F7j5/j5WQilaUWQF+JpwKHnW/yM2GvVvxZo/I7G5KXxEiGAxQ+8VxHat8SeGJxpoeJkRgMzBCAbmzeZVSLRrqoZhgJ7SAXt1S1CpY4AWtQxIhaXtfBpF7/5RZphnvJSbinfYwlERvaJkKhq6UoWVenNMWJR9sgqUTqpmODeqeNqtLnW9QJ1XY/b82cXKhO2kIkgJWUhSeP27lP14=
deploy:
  provider: heroku
  api_key:
    secure: bxlfUhZAdu4HLOIF97mWOsZVmd+j9X21+eKTByqsGKVhgwzpQRKcJCr1SolweYWhy61udOVnNS75Jojzm54PBgtq/CNaNwyZyJLszsUcGmjrjhniu2XgUrqhq6qlhO3ouZHQzs4cGqXamXYUHf4h1p2wnL3g9/FqulesTl1HUJVMr1mTjh3FhLBXLgeiQDUw94jEd6pd+Oacnbj4AklgMqQSIl4iXT9JG4snPMORFiANVLLe8kLaJTBsZKJy0qBSEywQFHGcIW7qUnnH5vEVFdCBOmSu3/1vXrEZJMCP8Amy6PLKFA1ejUDEi1NA88lMUiDcco8L57mO0qQqSbBxYbQNk4P7GTwpk9wlEkH6hm4iNFBswWbXZxQ9sBmnd8ZfiMXwjrK4FcqBY10veuhcCXFlCMd8lz26KEl0dgb1S1vOsM9w1adhPQrQxi42Qx3OwdmyhZNj8gubypJjRWesyxqj07n7jYVlFvPrHy42aMAUpKMJUB37k3bTyg5zKfNff36DUjp9rg0VNpWYEfUQEBszjRB51ZQXwvgZ+3Vvhw3lCkKuoI0l72Pglbe6gAIb1uSfX1vIA/hILYgN/U7Cy0muiDuin/tCjkRVL7FqSMU1gN8aY1lxL/dRTAqoXNyBDaLRMiI1uQESzU8vH3GaGZ9YQ7p0eVVh6TnsQp7kZr8=
  app:
    master: monzo-dashboard
  on:
    branch: master
  skip_cleanup: true
